---
layout: post
category: "strategy"
title:  "多因子模型"
---
<br/>

## 基本概念 

<p>多因子模型是应用最广泛的一种选股模型，其基本原理是采用一系列的因子作为选股标准，满足这些因子的股票则被买入，不满足的则卖出。多因子模型相对来说比较稳定，因为在不同的市场条件下，总有一些因子会发挥作用。因此，在量化投资界，不同的投资者和研究者都开发出了很多不同的多因子模型。各种多因子模型的核心区别一是在因子的选取上，二是如何用多因子综合得到一个最终的判断上。</p>
<p>一般而言，多因子选股模型有两种判断方法：一是打分法；二是回归法。</p>
<p>打分法就是根据各个因子的大小对股票进行打分，然后按照一定的权重加权得到一个总分，根据总分再对股票进行筛选。打分法根据加权方法的不同又可以分为静态加权和动态加权。打分法的优点是相对比较稳健，不容易受到极端值的影响。</p>
<!-- more -->
<p>回归法就是用过去的股票收益率对多因子进行回归，得到一个回归方程，然后把最新的因子值代入回归方程得到一个对未来股票收益的预判，最后以此为依据进行选股。回归法的优点是能够比较及时地调整股票对各因子的敏感性，而且不同的股票对不同因子的敏感性也可以不同。回归法的缺点是容易受到极端值的影响，在股票对因子敏感度变化较大的市场情况下效果也比较差。</p>

## 策略模型
<p>多因子选股模型的建立过程主要分为候选因子的选取、选股因子有效性的检验、有效但冗余因子的剔除、综合评分模型的建立和模型的评价及持续改进5个步骤。</p>

### 1.候选因子的选取
<p>基本面指标：PB、PE、EPS增长率等</p>
<p>技术面指标：动量、换手率、波动、预期收益增长、分析师一致预期变化、宏观经济变量等</p>
<p>候选因子的选择主要依赖于经济逻辑和市场经验，但选择更多和更有效的因子无疑是增强模型信息捕获能力、提高收益的关键因素之一。</p>

### 2.候选因子有效性的检验

<p>一般检验方法主要采用排序的方法检验候选因子的选股有效性。具体而言，对于任意一个候选因子，在模型形成期的第一个月初开始计算市场中每只正常交易股票的该因子大小，按从小到大的顺序对样本股票进行排序，并平均分为n个组合，一直持有到月末，每月如此，一直重复到模型形成期末。</p>
<p>组合构建完毕后，计算这n个组合的年化复合收益、相对于业绩基准的超出收益、在不同市场状况下的高收益组合跑赢基准和低收益组合跑输基准的概率等。为确定选股因子的有效性，建立如下数量标准。</p>
<p>(1)序数为1~n的组合年化复合收益应满足一定的排序关系，即组合因子的大小与收益应具有较大的相关关系，从统计的角度看，因子能较为显著地影响组合预期收益。</p>

<p>(2)令序数为1和n的两个极端组合相对基准的超额收益分别为AR1和ARn，如果AR1>ARn(该假设表示因子越小，收益越大)，那么二者应该满足如下条件：</p>
<p>AR1>MinARtop>0和ARn<MinARbottom<0</p>
<p>反之，如果AR1<ARn(该假设表示因子越大，收益越大)，那么与上面不等式类似，二者应满足：</p>
<p>ARn>MinARtop>0和AR1<MinARbottom<0</p>
<p>其中，MinARtop、MinARbottom分别为两个极端组合的最小超出收益阈值。以上条件保证因子最大和最小两个组合中，一个是明显跑赢市场的赢家组合，另一个是明显跑输市场的输家组合。</p>

<p>(3)无论在上涨、下跌还是整个模型形成期，序数为1和n的两个极端组合中，较高收益的组合应该能以较高的概率跑赢市场，而较低收益的组合则能以较高的概率跑输市场。</p>

<p>符合以上3个条件的因子至少说明在过去的一段时期内表现出较好的选股能力，可以作为进一步筛选的有效选股因子。</p>

### 3.有效但冗余因子的剔除
<p>不同的选股因子可能由于内在的驱动因素大致相同等原因，所选出的组合在个股构成和收益等方面具有较高的一致性，因此其中的一些因子需要作为冗余因子剔除，而只保留同类因子中收益最好、区分度最高的一个因子。假设需要选出k个有效因子，样本期共m个月，那么具体的冗余因子剔除步骤如下:</p>
<p>(1)先对不同因子下的n个组合进行打分，分值与该组合在整个模型形成期的收益相关，收益越大，分值越高，所有组合的分值取1~n间的连续整数。</p>
<p>(2)按月计算个股的不同因子得分间的相关性矩阵，令第t个月的个股因子得分相关性矩阵为: (SCORE_CORRt,u,v)，u,v=1,2,…k，u和v为因子序号。</p>
<p>(3)在计算完每个月因子得分相关性矩阵后，计算整个样本期内相关性矩阵的平均值</p>
<p>(4)设定一个得分相关性阈值MinScoreCorr，对得分相关性平均值矩阵中大于该阈值的元素所对应的因子只保留与其他因子相关性较小、有效性更强的因子，而其他因子则作为冗余因子剔除。</p>

### 4.综合评分模型的建立
<p>综合评分模型选取去除冗余后的有效因子，在模型运行期的每个月月初对市场中正常交易的个股计算每个因子的最新得分，并按照一定的权重求得所有因子的平均分。据模型所得出的综合平均分对股票进行排序，然后根据需要选择排名靠前的股票。</p>

### 5.模型的评价及持续改进
<p>一方面，由于量化选股方法是建立在市场无效或弱有效的前提之下的，随着使用多因子选股模型的投资者数量的不断增加，有的因子会逐渐失效，而另一些新的因子可能被验证有效而加入到模型中；另一方面，一些因子可能在过去的市场环境下比较有效，而随着市场风格的改变，这些因子可能在短期内失效，而另外一些以前无效的因子会在当前市场环境下表现较好。</p>
<p>另外，在计算综合评分的过程中，各因子得分的权重设计、交易成本考虑和风险控制等都存在进一步改进的空间。因此，在综合评分选股模型的使用过程中，会对选用的因子、模型本身做持续的再评价和不断改进以适应变化的市场环境。</p>

